<div ng-controller="Dashboard.Controller">
  <div class="page-header">
  <h1> Carpool Viewer - Found <strong> {{carpoolList.length  || 0 }} Carpools</strong> <br>
    <small> Click an entry to view details of a carpool. Click the entry again to hide the details. </small>
  </h1>
</div>
<form class="form-inline">
  <div class="form-group">
    <label>Search by radius</label>
      <br>
        <input type="text" ng-model="radius" name="radius" required>
      </div>
      <button type="submit" ng-onclick="search(radius)" class="btn btn-primary">Search</button>
</form>
  <accordion close-others="oneAtATime">
    <accordion-group  ng-repeat="carpool in carpoolList" is-open="status.open">
      <accordion-heading>
           <i class="pull-left glyphicon" ng-class="{'icon-minus-sign': status.open, 'icon-plus-sign': !status.open}"></i>
          <h4> &nbsp;{{carpool.name}}</h4>
       </accordion-heading>
      <strong>Description:</strong> {{carpool.description}} <br>
      <strong>Owner:</strong> {{carpool.owner.lastName}}, {{carpool.owner.firstName}} <br>
      <strong>Contact:</strong> {{carpool.owner.email}} <br>
      <strong>Current Participants:</strong> {{carpool.participants.length}} <br>
      <strong>Campus Locatition:</strong> {{carpool.campus.name}} <br>
      <strong>Pickup Location:</strong> {{carpool.pickupLocation.address}} <br>
      <div ng-controller="Request.Controller">
      <button type="submit" class="btn btn-primary btn-lg" ng-click="sendRequest(carpool.href.substr(10))">Request Access to Carpool</button>

    </accordion-group>
  </accordion>
</div>
